@{
}
    <link rel="stylesheet" href="/css/upload.css">

    <style>
        body {
            background-color: #14141b;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            // Function to update character counter
            function updateCharacterCounter(inputId, counterId, maxLength) {
                var input = $('#' + inputId);
                var counter = $('#' + counterId);

                input.on('input', function () {
                    var currentLength = input.val().length;
                    counter.text(currentLength + '/' + maxLength);
                });
            }

            // Function to update tag counter
            function updateTagCounter(inputId, counterId, maxTags) {
                var input = $('#' + inputId);
                var counter = $('#' + counterId);

                input.on('input', function () {
                    var tags = input.val().split(',');
                    var currentTags = tags.length;
                    // Remove empty tags (e.g., when the input starts with a comma)
                    if (tags[0] === '') {
                        currentTags--;
                    }
                    counter.text(currentTags + '/' + maxTags);
                });
            }

            // Update character counters for title, caption, and tags
            updateCharacterCounter('title', 'title-counter', 32);
            updateCharacterCounter('caption', 'caption-counter', 3000);
            updateTagCounter('tags', 'tag-counter', 10);
        });

    var loadFile = function (event) {
        var output = document.getElementById('output');
        var uploadedImage = document.getElementById('uploaded-image');

        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function () {
            URL.revokeObjectURL(output.src); // free memory
        }
    };
    </script>

<div class="main">
    <div class="upload-container">
        <div class="image-box">
            <div class="add-image">
                <label class="upload-image" for="image-upload">
                    <input type="file" id="image-upload" name="image-upload" onchange="loadFile(event)" accept=".jpg, .jpeg, .png" style="display: none;">
                    <span>Upload Image</span>
                </label>
                <img id="output" style="max-width: 100%;" />
            </div>
            <div class="add-image-guide-text">Accepted file formats: JPG, JPEG, PNG</div>
        </div>

        <div class="title-form">
            <label for="title"></label>
            <div class="input-container">
                <input class="input-title" type="text" id="title" name="title" maxlength="32" placeholder="Title">
                <span class="character-counter" id="title-counter">0/32</span>
            </div>
            <div class="form-guide-text"></div>
        </div>

        <div class="caption-form">
            <label for="caption"></label>
            <div class="input-container">
                <textarea class="input-caption" id="caption" name="caption" maxlength="3000" placeholder="Caption"></textarea>
                <span class="character-counter" id="caption-counter">0/3000</span>
            </div>
            <div class="form-guide-text"></div>
        </div>

        <div class="tags-form">
            <label for="tags"></label>
            <div class="input-container">
                <input class="input-tags" type="text" id="tags" name="tags" maxlength="100" placeholder="Tags (separated by commas, ie. girl, boy, original)">
                <span class="character-counter" id="tag-counter">0/10</span>
            </div>
            <div class="form-guide-text"></div>
        </div>

        <div class="ratings-form">
            <label for="ratings">Visible to:</label>
            <input type="radio" id="all" name="ratings" value="all">
            <label for="all">All</label>

            <input type="radio" id="r15" name="ratings" value="r15">
            <label for="r15">R-15</label>

            <input type="radio" id="r18" name="ratings" value="r18">
            <label for="r18">R-18</label>
        </div>

        <input type="submit" class="upload-btn" name="submit" value="Upload">
        <button class="back-btn" onclick="history.back()">Back</button>

    </div>
</div>